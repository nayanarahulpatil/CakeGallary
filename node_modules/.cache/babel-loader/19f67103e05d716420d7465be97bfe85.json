{"ast":null,"code":"import _classCallCheck from\"D:/cakegallary/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"D:/cakegallary/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"D:/cakegallary/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"D:/cakegallary/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import{Component}from\"react\";import axios from\"axios\";import{Link,withRouter}from\"react-router-dom\";import Navbar from'../Component/Navbar';import{ToastContainer,toast}from'react-toastify';import'react-toastify/dist/ReactToastify.css';import{connect}from\"react-redux\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var Login=/*#__PURE__*/function(_Component){_inherits(Login,_Component);var _super=_createSuper(Login);function Login(){var _this;_classCallCheck(this,Login);_this=_super.call(this);// initialising the state\n_this.user={};_this.handleEmail=function(event){_this.user.email=event.target.value;};_this.handlePassword=function(event){_this.user.password=event.target.value;};_this.login=function(event){// updating the state\nevent.preventDefault();console.log(_this.user.email);if(_this.user.email==\" \"||_this.user.email==undefined){alert(\"Enter Your Email Id\");}else if(_this.user.password==\" \"||_this.user.password==undefined){alert(\"Enter Your password\");}else if(!_this.user.password==\" \"||_this.user.password==undefined&&!_this.user.email==\" \"||_this.user.email==undefined){var urldata=\"https://apifromashu.herokuapp.com/api/login\";axios({method:\"post\",url:urldata,data:_this.user}).then(function(responce){console.log(responce);if(responce.data.token){_this.props.dispatch({type:\"LOGIN\",payload:responce.data});_this.props.dispatch=undefined;_this.props.history.push(\"/\");localStorage.token=responce.data.token;toast.success('Hi welcome to our CakeGallary',{position:\"top-left\",autoClose:false,hideProgressBar:false,closeOnClick:true,pauseOnHover:true,draggable:true,progress:undefined});}else{alert(\"invalid creadential\");}},function(error){});}};_this.state={name:\"nayana\"};return _this;}_createClass(Login,[{key:\"render\",value:function render(){return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Navbar,{}),/*#__PURE__*/_jsx(\"div\",{className:\"mt-5 bg-light rounded p-5 shadow\",style:{width:\"50%\",margin:\"auto\"},children:/*#__PURE__*/_jsxs(\"form\",{children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Login Here\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{for:\"exampleInputEmail1\",children:\"Email address\"}),/*#__PURE__*/_jsx(\"input\",{onChange:this.handleEmail,type:\"email\",className:\"form-control\",id:\"exampleInputEmail1\",\"aria-describedby\":\"emailHelp\",placeholder:\"Enter email\"}),/*#__PURE__*/_jsx(\"small\",{id:\"emailHelp\",className:\"form-text text-muted\",children:\"We'll never share your email with anyone else.\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{for:\"exampleInputPassword1\",children:\"Password\"}),/*#__PURE__*/_jsx(\"input\",{onChange:this.handlePassword,type:\"password\",className:\"form-control\",placeholder:\"Password\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mt-4\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"errormessage\",children:this.state.errorMessage}),/*#__PURE__*/_jsx(\"button\",{onClick:this.login,type:\"submit\",className:\"btn btn-primary\",children:\"Submit\"}),/*#__PURE__*/_jsx(ToastContainer,{position:\"top-left\",autoClose:false,newestOnTop:false,closeOnClick:true,rtl:false,pauseOnFocusLoss:true,draggable:true})]}),/*#__PURE__*/_jsx(\"div\",{className:\"mt-5\",children:/*#__PURE__*/_jsx(Link,{to:\"/signup\",children:\"New User? Signup Here\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"mt-2\",children:/*#__PURE__*/_jsx(Link,{to:\"/forgotpassword\",children:\"Forgor Password\"})})]})})]});}}]);return Login;}(Component);Login=withRouter(Login);export default connect()(Login);// withRouter is adding props to Login Component","map":{"version":3,"sources":["D:/cakegallary/src/Component/Login.js"],"names":["Component","axios","Link","withRouter","Navbar","ToastContainer","toast","connect","Login","user","handleEmail","event","email","target","value","handlePassword","password","login","preventDefault","console","log","undefined","alert","urldata","method","url","data","then","responce","token","props","dispatch","type","payload","history","push","localStorage","success","position","autoClose","hideProgressBar","closeOnClick","pauseOnHover","draggable","progress","error","state","name","width","margin","errorMessage"],"mappings":"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","sourcesContent":["import { Component } from \"react\"\r\nimport axios from \"axios\"\r\nimport { Link, withRouter } from \"react-router-dom\"\r\nimport  Navbar  from '../Component/Navbar';\r\nimport { ToastContainer, toast } from 'react-toastify';\r\nimport 'react-toastify/dist/ReactToastify.css';\r\nimport { connect } from \"react-redux\";\r\n\r\nclass Login extends Component {\r\n    constructor() {\r\n        super()\r\n        // initialising the state\r\n        this.state = {\r\n            name: \"nayana\"\r\n\r\n        }\r\n    }\r\n  \r\n    user = {}\r\n\r\n    handleEmail = (event) => {\r\n        this.user.email = event.target.value\r\n    }\r\n    handlePassword = (event) => {\r\n        this.user.password = event.target.value\r\n    }\r\n   \r\n    \r\n    login = (event) => {\r\n        // updating the state\r\n        event.preventDefault()\r\n        console.log(this.user.email)\r\n        if(this.user.email==\" \" || this.user.email==undefined )\r\n        {\r\n            alert(\"Enter Your Email Id\")\r\n        }\r\n       else if(this.user.password==\" \" || this.user.password==undefined ){\r\n            alert(\"Enter Your password\")\r\n        }\r\n\r\n       else if(!this.user.password==\" \" || this.user.password==undefined  && !this.user.email==\" \" || this.user.email==undefined )\r\n        {\r\n        let urldata = \"https://apifromashu.herokuapp.com/api/login\";\r\n        axios({\r\n            method: \"post\",\r\n            url: urldata,\r\n            data: this.user\r\n        }).then((responce) => {\r\n            console.log(responce);\r\n\r\n            if (responce.data.token) {\r\n                this.props.dispatch(\r\n                    {\r\n                        type:\"LOGIN\",\r\n                        payload:responce.data\r\n                    }\r\n                )\r\n               this.props.dispatch=undefined\r\n                this.props.history.push(\"/\");\r\n                localStorage.token = responce.data.token\r\n                toast.success('Hi welcome to our CakeGallary', {\r\n                    position: \"top-left\",\r\n                    autoClose: false,\r\n                    hideProgressBar: false,\r\n                    closeOnClick: true,\r\n                    pauseOnHover: true,\r\n                    draggable: true,\r\n                    progress: undefined,\r\n                    });\r\n\r\n            }\r\n            else {\r\n                alert(\"invalid creadential\")\r\n            }\r\n        }, (error) => {\r\n\r\n        })}\r\n        \r\n    }\r\n\r\n\r\n    render() {\r\n        return (\r\n            <>\r\n                <Navbar />\r\n                <div className=\"mt-5 bg-light rounded p-5 shadow\" style={{ width: \"50%\", margin: \"auto\" }}>\r\n                    <form>\r\n                        <h1>Login Here</h1>\r\n                        <div className=\"form-group\">\r\n                            <label for=\"exampleInputEmail1\">Email address</label>\r\n                            <input onChange={this.handleEmail} type=\"email\" className=\"form-control\" id=\"exampleInputEmail1\" aria-describedby=\"emailHelp\" placeholder=\"Enter email\" />\r\n                            <small id=\"emailHelp\" className=\"form-text text-muted\">We'll never share your email with anyone else.</small>\r\n                        </div>\r\n                        <div className=\"form-group\">\r\n                            <label for=\"exampleInputPassword1\">Password</label>\r\n                            <input onChange={this.handlePassword} type=\"password\" className=\"form-control\" placeholder=\"Password\" />\r\n                        </div>\r\n\r\n                        <div className=\"mt-4\">\r\n                            <label className=\"errormessage\">{this.state.errorMessage}</label>\r\n                            <button onClick={this.login} type=\"submit\" className=\"btn btn-primary\">Submit</button>\r\n\r\n                            <ToastContainer\r\n                                position=\"top-left\"\r\n                                autoClose={false}\r\n                                newestOnTop={false}\r\n                                closeOnClick\r\n                                rtl={false}\r\n                                pauseOnFocusLoss\r\n                                draggable\r\n                            />\r\n                        </div>\r\n                        \r\n                        <div className=\"mt-5\">\r\n                            <Link to=\"/signup\">New User? Signup Here</Link>\r\n                        </div>\r\n                        <div className=\"mt-2\">\r\n                            <Link to=\"/forgotpassword\">Forgor Password</Link>\r\n                        </div>\r\n                    </form>\r\n                </div>\r\n            </>\r\n        )\r\n    }\r\n}\r\nLogin= withRouter(Login)\r\nexport default connect()(Login)\r\n\r\n// withRouter is adding props to Login Component "]},"metadata":{},"sourceType":"module"}